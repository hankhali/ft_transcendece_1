<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="neon_pong_title">Neon Pong - The Ultimate Retro-Futuristic Arcade</title>
    <link rel="stylesheet" href="/src/style.css">
    <link rel="stylesheet" href="/src/language.css">
    <link rel="stylesheet" href="/src/styles/auth-forms.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
      /* Force remove red borders from language switcher */
      .language-select,
      .language-select:focus,
      .language-select:active,
      .language-select:hover,
      .language-switcher,
      .language-switcher-container,
      #language-switcher-container {
        border-color: rgba(255, 255, 255, 0.2) !important;
        outline: none !important;
        box-shadow: none !important;
      }
      
      /* Style the select element */
      .language-select {
        background: rgba(0, 0, 0, 0.3);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 20px;
        padding: 8px 30px 8px 15px;
        cursor: pointer;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 12px;
      }
      
      /* Style the dropdown options */
      .language-select option {
        background: #1a1a2e;
        color: white;
        padding: 10px;
      }
    </style>
    <!-- Language switcher will be added by language.ts -->
  </head>
  <body>
    <div class="background-animation-container">
        <div id="starfield"></div>

        <div class="grid-overlay"></div> <div class="glow-effect"></div>
        <div class="surface"></div>
        <div class="ball"></div>
        <div class="ball-shadow"></div>

        <div class="ambient-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>
    <div id="app">
        <!-- Navbar will be inserted here by JavaScript -->
        <div id="language-switcher-container"></div>
        <!-- Navbar links will be inserted by JavaScript -->

        <main class="page">
            <div id="home" class="hero-section content-section">
                <h1 class="hero-title" data-i18n="neon_pong_title">NEON PONG</h1>
                <h2 class="hero-subtitle" data-i18n="hero_subtitle">THE ULTIMATE RETRO-FUTURISTIC ARCADE EXPERIENCE.</h2>
                <p class="hero-description" data-i18n="hero_description">Challenge your friends in a fast-paced game of skill and reflexes.</p>
                <div class="hero-cta">
                    <button class="primary-button play-now-button" data-i18n="play_now_button"><i class="fas fa-play"></i> Play Now</button>
                    <button class="primary-button register-cta-button" data-i18n="register_now_button"><i class="fas fa-user-plus"></i> Register Now</button>
                </div>
            </div>

            <div id="about" class="content-section">
                <h2 class="section-title" data-i18n="about_project_title">About the Project</h2>
                <div class="about-project-content">
                    <div class="about-project-text">
                        <p>Welcome to Neon Pong, a modern re-imagination of the classic arcade game. Built with cutting-edge web technologies, we bring you a fast-paced, visually stunning, and highly competitive experience.</p>
                        <p>Our goal is to combine nostalgic gameplay with futuristic aesthetics and community-driven features. Join us and relive the golden era of arcade gaming, but with a twist!</p>
                        <p>We are a team of passionate developers dedicated to creating engaging and innovative gaming experiences.</p>
                    </div>
                    <div class="about-project-image-frame">
                        <img src="./assets/pong-screenshot.png" alt="Neon Pong Screenshot">
                    </div>
                </div>
            </div>

<div id="tournaments" class="tournament-types-section content-section">
                <h2 class="section-title" style="margin-top: 4rem;" data-i18n="upcoming_tournaments">Upcoming Tournaments</h2>
                <div class="tournament-list">
                    <div class="tournament-item">
                        <h3>Neon Cup #1</h3>
                        <p class="tournament-status"><span class="status-indicator status-open"></span> <span data-i18n="open_for_registration">Open for Registration</span></p>
                        <p><strong>Starts:</strong> June 10, 2025</p>
                        <p><strong>Prize Pool:</strong> $1000</p>
                        <button class="primary-button join-button">Join Tournament</button>
                    </div>
                    <div class="tournament-item">
                        <h3>Cybernetic Showdown</h3>
                        <p class="tournament-status"><span class="status-indicator status-in-progress"></span> <span data-i18n="in_progress">In Progress</span></p>
                        <p><strong>Ends:</strong> June 15, 2025</p>
                        <p><strong>Prize Pool:</strong> $500</p>
                        <button class="primary-button join-button" disabled>View Progress</button>
                    </div>
                    <div class="tournament-item">
                        <h3>Retro Rumble</h3>
                        <p class="tournament-status"><span class="status-indicator status-completed"></span> <span data-i18n="completed">Completed</span></p>
                        <p><strong>Date:</strong> May 28, 2025</p>
                        <p><strong>Winner:</strong> PlayerX</p>
                        <button class="secondary-button">View Results</button>
                    </div>
                </div>
            </div>

            <div id="team" class="content-section">
                <h2 class="section-title" data-i18n="meet_the_team">Meet the Team</h2>
                <div class="team-grid">
                    <div class="team-member-card">
                        <img src="./assets/avatar-1.png" alt="Team Member 1" class="team-member-avatar">
                        <p class="team-member-name">Alice Smith</p>
                        <p class="team-member-role">Lead Developer</p>
                    </div>
                    <div class="team-member-card">
                        <img src="./assets/avatar-2.png" alt="Team Member 2" class="team-member-avatar">
                        <p class="team-member-name">Bob Johnson</p>
                        <p class="team-member-role">Game Designer</p>
                    </div>
                    <div class="team-member-card">
                        <img src="./assets/avatar-3.png" alt="Team Member 3" class="team-member-avatar">
                        <p class="team-member-name">Charlie Brown</p>
                        <p class="team-member-role">UI/UX Artist</p>
                    </div>
                    <div class="team-member-card">
                        <img src="./assets/avatar-4.png" alt="Team Member 4" class="team-member-avatar">
                        <p class="team-member-name">Diana Prince</p>
                        <p class="team-member-role">Community Manager</p>
                    </div>
                </div>
            </div>

            <div id="register" class="content-section">
                <div class="form-container">
                    <!-- Auth Toggle -->
                    <div class="auth-toggle">
                        <button class="active" id="loginTab">SIGN IN</button>
                        <button id="registerTab">SIGN UP</button>
                    </div>
                    
                    <!-- Login Form -->
                    <form id="loginForm" class="auth-form" style="display: none;">
                        <h3 class="form-title">Welcome Back</h3>
                        <p class="form-subtitle">Sign in to continue your journey</p>
                        
                        <div class="form-group">
                            <label for="loginEmail" class="form-label">Email</label>
                            <div class="input-wrapper">
                                <input type="email" id="loginEmail" class="form-input" placeholder="Enter your email" required>
                                <i class="fas fa-envelope input-icon"></i>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="form-label-container">
                                <label for="loginPassword" class="form-label">Password</label>
                                <a href="#forgot-password" class="forgot-password">Forgot password?</a>
                            </div>
                            <div class="input-wrapper">
                                <input type="password" id="loginPassword" class="form-input" placeholder="Enter your password" required>
                                <i class="fas fa-lock input-icon"></i>
                            </div>
                        </div>
                        
                        <div class="form-options">
                            <label class="checkbox-container">
                                <input type="checkbox" id="rememberMe">
                                <span class="checkmark"></span>
                                <span>Remember me</span>
                            </label>
                        </div>
                        
                        <div class="auth-buttons">
                            <button type="submit" class="primary-button">
                                <i class="fas fa-sign-in-alt"></i> Sign In
                            </button>
                        </div>
                        
                        <div class="social-login">
                            <p>Or sign in with</p>
                            <div class="social-buttons">
                                <button type="button" class="social-button google">
                                    <i class="fab fa-google"></i>
                                </button>
                                <button type="button" class="social-button github">
                                    <i class="fab fa-github"></i>
                                </button>
                                <button type="button" class="social-button discord">
                                    <i class="fab fa-discord"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-footer">
                            <div class="form-footer-content">
                                <span class="form-footer-text">Don't have an account?</span>
                                <a href="#" id="showRegister" class="form-footer-link">
                                    <span>Create Account</span>
                                    <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </form>
                    
                    <!-- Register Form -->
                    <form id="registerForm" class="auth-form">
                        <h3 class="form-title">Create Account</h3>
                        <p class="form-subtitle">Join the Neon Pong community</p>
                        
                        <div class="form-group">
                            <label for="username" class="form-label">Username</label>
                            <div class="input-wrapper">
                                <input type="text" id="username" class="form-input" placeholder="Choose a username" required>
                                <i class="fas fa-user input-icon"></i>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email" class="form-label">Email</label>
                            <div class="input-wrapper">
                                <input type="email" id="email" class="form-input" placeholder="Enter your email" required>
                                <i class="fas fa-envelope input-icon"></i>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="password" class="form-label">Password</label>
                            <div class="input-wrapper">
                                <input type="password" id="password" class="form-input" placeholder="Create a password" required>
                                <i class="fas fa-lock input-icon"></i>
                            </div>
                            <div class="password-strength">
                                <div class="strength-bar">
                                    <span class="strength-segment"></span>
                                    <span class="strength-segment"></span>
                                    <span class="strength-segment"></span>
                                    <span class="strength-segment"></span>
                                </div>
                                <span class="strength-text">Password strength: <span id="strengthText">Weak</span></span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                            <div class="input-wrapper">
                                <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm your password" required>
                                <i class="fas fa-lock input-icon"></i>
                            </div>
                        </div>
                        
                        <div class="form-options">
                            <label class="checkbox-container">
                                <input type="checkbox" id="termsAgree" required>
                                <span class="checkmark"></span>
                                <span>I agree to the <a href="#terms">Terms of Service</a> and <a href="#privacy">Privacy Policy</a></span>
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" id="newsletter" checked>
                                <span class="checkmark"></span>
                                <span>Subscribe to our newsletter</span>
                            </label>
                        </div>
                        
                        <div class="auth-buttons">
                            <button type="submit" class="primary-button">
                                <i class="fas fa-user-plus"></i> Create Account
                            </button>
                        </div>
                        
                        <div class="form-footer">
                            <div class="form-footer-content">
                                <span class="form-footer-text">Already have an account?</span>
                                <a href="#" id="showLogin" class="form-footer-link">
                                    <span>Sign In</span>
                                    <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2025 Neon Pong. All rights reserved.</p>
            <p>Made with <i class="fas fa-heart" style="color: var(--secondary-color);"></i> by Four Innovative Minds.</p>
        </footer>

        <div id="loadingOverlay" class="loading-overlay hidden">
            <div class="spinner"></div>
            <p class="loading-text" data-i18n="loading">Loading...</p>
        </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
    <script src="/src/auth-forms.js"></script>
    <script>
        // Create dynamic trail effect
        const ball = document.querySelector('.ball');
        // Renamed 'container' to 'backgroundContainer' to avoid conflict with existing classes if any
        const backgroundContainer = document.querySelector('.background-animation-container');

        function createTrail() {
            // Ensure elements exist before trying to get their positions
            if (!ball || !backgroundContainer) {
                // If elements aren't found (e.g., due to loading order), stop trying to create trails.
                // This console warning helps debugging if the script runs before elements are parsed.
                console.warn("Ball or background container not found for trail effect. Stopping trail creation.");
                if (typeof trailInterval !== 'undefined') clearInterval(trailInterval); // Stop the interval if elements are missing
                return;
            }

            const trail = document.createElement('div');
            trail.className = 'trail';

            const ballRect = ball.getBoundingClientRect();
            const containerRect = backgroundContainer.getBoundingClientRect();

            // Calculate position relative to the background-animation-container
            trail.style.left = (ballRect.left - containerRect.left + (ballRect.width / 2)) + 'px'; // Center trail horizontally
            trail.style.bottom = (window.innerHeight - ballRect.bottom - containerRect.top + (ballRect.height / 2)) + 'px'; // Center trail vertically, adjusted for container top

            backgroundContainer.appendChild(trail);

            // Remove trail after animation
            setTimeout(() => {
                if (trail.parentNode) {
                    trail.parentNode.removeChild(trail);
                }
            }, 800);
        }

        // Create trail particles periodically, only if elements are present
        let trailInterval;
        if (ball && backgroundContainer) {
            trailInterval = setInterval(createTrail, 100);
        }

        // Add subtle camera shake effect to the main content
        let shakeOffset = 0;
        const appContainer = document.getElementById('app');

        function cameraShake() {
            // Only apply shake if the #app container exists
            if (appContainer) {
                shakeOffset += 0.05;
                const shake = Math.sin(shakeOffset) * 0.5; // Reduced shake for subtlety
                appContainer.style.transform = `translateY(${shake}px)`;
            }
            requestAnimationFrame(cameraShake);
        }
        // Start camera shake only if appContainer exists
        if (appContainer) {
          cameraShake();
        }


        // Dynamic glow intensity based on ball position
        const glowEffect = document.querySelector('.glow-effect');
        function updateGlow() {
            // Only update glow if the element exists
            if (glowEffect) {
                const time = Date.now() * 0.001;
                const intensity = 0.5 + Math.sin(time * 2) * 0.3;
                glowEffect.style.opacity = intensity.toFixed(2);
            }
            requestAnimationFrame(updateGlow);
        }
        if (glowEffect) {
           updateGlow(); // Start glow update
        }


        // ========================================================
        // NEW JAVASCRIPT FOR VISUAL ENHANCEMENTS
        // ========================================================

        document.addEventListener('DOMContentLoaded', () => {
            const starfield = document.getElementById('starfield');

            // 1. Create Stars
            function createStars() {
                if (!starfield) return;
                starfield.innerHTML = ''; // Clear existing stars if any
                const numStars = 350; // Increased number of stars for more frequency
                for (let i = 0; i < numStars; i++) {
                    let star = document.createElement('div');
                    star.className = 'star';
                    star.style.width = `${Math.random() * 2 + 1}px`; // Star size 1px to 3px
                    star.style.height = star.style.width;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`; // Start at random vertical position
                    // Ensure animation moves them "up" the screen, so they appear from bottom or mid and move towards top
                    star.style.animationDuration = `${Math.random() * 8 + 4}s`; // Faster animation (4s to 12s)
                    star.style.animationDelay = `${Math.random() * 5}s`; // Shorter delay (0s to 5s) for more frequency
                    star.style.setProperty('--star-translate-x-end', `${(Math.random() - 0.5) * 30}vw`); // Random slight horizontal drift
                    starfield.appendChild(star);
                }
            }

            if (starfield) {
                createStars();
            }
        });
    </script>
    </body>
</html>